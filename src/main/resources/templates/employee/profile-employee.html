<!DOCTYPE html>
<html lang="en" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" layout:decorate="~{layout/main}">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard</title>
</head>

<body>
    <div class="container-fluid " layout:fragment="container">
        <div class="container-fluid">
            <div class="page-header min-height-300 border-radius-xl mt-4"
                style="background-image: url('../assets/img/curved-images/curved0.jpg'); background-position-y: 50%;">
                <span class="mask bg-gradient-primary opacity-6"></span>
            </div>
            <div class="card card-body blur shadow-blur mx-4 mt-n6 overflow-hidden">
                <div class="row gx-4">
                    <div class="col-auto">
                        <div class="avatar avatar-xl position-relative">
                            <img th:src="@{http://localhost:9001/api/user/photo/}+${User.employee.photo}"
                                alt="profile_image" class="w-100 border-radius-lg shadow-sm">
                        </div>
                    </div>
                    <div class="col-auto my-auto">
                        <div class="h-100">
                            <h5 class="mb-1 text-capitalize" th:text="${User.employee.name}">
                            </h5>
                            <p class="mb-0 font-weight-bold text-sm" th:text="${User.employee.job.name}">
                                CEO / Co-Founder
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="container-fluid py-4">
            <div class="row">
                <div class="col-12 col-xl-4">
                    <div class="card h-100">
                        <div class="card-header pb-0 p-3">
                            <h6 class="mb-0">Update Profile</h6>
                        </div>
                        <div class="card-body p-3">
                            <form form id="submit-add" th:action="@{/profile}" enctype="multipart/form-data"
                                th:method="put" th:object="${employee}">
                                <div class="row">
                                    <div class="col-md-12 ">
                                        <div class="form-group ">
                                            <label for="name" class="fs-6">Name</label>
                                            <input type="text" class="form-control" id="name"
                                                placeholder="please input your new name" th:field="*{name}">
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-6 ">
                                        <div class="form-group ">
                                            <label for="phone" class="fs-6">Phone</label>
                                            <input type="text" class="form-control" id="phone"
                                                placeholder="please input your phone" th:field="*{phone}">
                                        </div>
                                    </div>
                                    <div class="col-md-6 ">
                                        <div class="form-group ">
                                            <label for="email" class="fs-6">Email</label>
                                            <input type="email" class="form-control" id="email"
                                                placeholder="please input your email" th:field="*{email}">
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-12 ">
                                        <div class="form-group ">
                                            <label for="file" class="fs-6">Photo</label>
                                            <input type="file" class="form-control" name="file" id="fileInput"
                                                accept="image/*" placeholder="please input your new password">
                                        </div>
                                    </div>
                                </div>
                                <div class="d-flex flex-row-reverse bd-highlight">
                                    <button type="submit" class="btn bg-gradient-info"
                                        data-bs-dismiss="modal">Submit</button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
                <div class="col-12 col-xl-4">
                    <div class="card h-100">
                        <div class="card-header pb-0 p-3">
                            <div class="row">
                                <div class="col-md-8 d-flex align-items-center">
                                    <h6 class="mb-0">Profile Information</h6>
                                </div>
                            </div>
                        </div>
                        <div class="card-body p-3">
                            <p class="text-sm">
                                Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor
                                incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud
                                exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure
                                dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur.
                                Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt
                                mollit anim id est laborum.
                            </p>
                            <hr class="horizontal gray-light my-2">
                            <ul class="list-group">
                                <li class="list-group-item border-0 ps-0 pt-0 text-sm"><strong class="text-dark">Full
                                        Name:</strong> &nbsp; <a class="text-capitalize"
                                        th:text="${User.employee.name}"></a>
                                </li>
                                <li class="list-group-item border-0 ps-0 text-sm"><strong
                                        class="text-dark">Mobile:</strong> &nbsp; <a class="text-capitalize"
                                        th:text="${User.employee.phone}"></a></li>
                                <li class="list-group-item border-0 ps-0 text-sm"><strong
                                        class="text-dark">Email:</strong> &nbsp; <a class="text-capitalize"
                                        th:text="${User.employee.email}"></a></li>
                                <li class="list-group-item border-0 ps-0 text-sm"><strong
                                        class="text-dark">Location:</strong> &nbsp; <a>USA</a></li>
                                <li class="list-group-item border-0 ps-0 pb-0">
                                    <strong class="text-dark text-sm">Social:</strong> &nbsp;
                                    <a class="btn btn-facebook btn-simple mb-0 ps-1 pe-2 py-0" href="javascript:;">
                                        <i class="fab fa-facebook fa-lg"></i>
                                    </a>
                                    <a class="btn btn-twitter btn-simple mb-0 ps-1 pe-2 py-0" href="javascript:;">
                                        <i class="fab fa-twitter fa-lg"></i>
                                    </a>
                                    <a class="btn btn-instagram btn-simple mb-0 ps-1 pe-2 py-0" href="javascript:;">
                                        <i class="fab fa-instagram fa-lg"></i>
                                    </a>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
                <div class="col-12 col-xl-4">
                    <div class="card h-100">
                        <div class="card-header pb-0 p-3">
                            <h6 class="mb-0">Update Username & Password</h6>
                        </div>
                        <div class="card-body p-3">
                            <form>
                                <div class="row">
                                    <div class="col-md-12 ">
                                        <div class="form-group ">
                                            <label for="username" class="fs-6">Username</label>
                                            <input type="text" class="form-control" id="username"
                                                placeholder="please input your new username">
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-12 ">
                                        <div class="form-group ">
                                            <label for="old-password" class="fs-6">Old Password</label>
                                            <input type="password" class="form-control" id="old-password"
                                                placeholder="please input your old password">
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-12 ">
                                        <div class="form-group ">
                                            <label for="new-password" class="fs-6">New Password</label>
                                            <input type="password" class="form-control" id="new-password"
                                                placeholder="please input your new password">
                                        </div>
                                    </div>
                                </div>
                                <div class="d-flex flex-row-reverse bd-highlight mb-0">
                                    <button type="button" class="btn bg-gradient-info" data-bs-dismiss="modal"
                                        onclick="updateUser()">Submit</button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div layout:fragment="script">
        <script th:inline="javascript">
            var userId = /*[[${User.id}]]*/ null; // Mendapatkan user id dari Thymeleaf
                // Gunakan user id dalam logika JavaScript
        </script>
        <script th:src="@{/assets/js/profile.js}"></script>
    </div>
</body>

</html>